<!DOCTYPE html>
<html>
  <head>
    <title>User Management</title>
    <%- include('./partials/links.ejs'); %>
    <link rel="stylesheet" href="/css/users.css" />
  </head>
  <body>
    <%- include('./partials/header.ejs'); %>
    <% let default_user_item = {uid: "DEFAULT_UID", full_name: "DEFAULT_FULLNAME", mtu_id: "DEFAULT_MTUID", rid: "DEFAULT_RID", last_seen: "DEFAULT_LASTSEEN", email: "DEFAULT_EMAIL"} %>
    
    
    <script>
        let myUid = "<%= user.uid %>";
        let myPerm = "<%= role.permission %>";
        let user_item_template = `<%- include('./partials/config/user_item.ejs', {user: default_user_item, permissions: permissions, myPerm: role.permission}) %>`;
    </script>
    
    <script src="/js/users.js"></script>
    <div class="mainbodyoutside flex center">
        <div class="mainbody">
            <div class="user-vertical-flex">
                <div class="user-header">
                    <div class="flex center">
                        <span class="large spacing">User Management</span>
                    </div>
                    
        
                    <span class="small spacing">Manage all users that use this website, either through manual login or login through MTU.</span>
                    
                    <div class="flex center wrap spacing">
                        <span class="small">Search by...</span>
                        <div class="flex center wrap">
                            <div class="user-detail-item">
                                <div class="flex apart">
                                    <span class="tiny user-detail-tag">User ID</span>
                                </div>
                                <div class="flex apart">
                                    <input type="text" class="input small" onchange="updateUserList()" placeholder="12345678" name="uid" id="user-search-uid" />
                                </div>
                            </div>
                            <div class="user-detail-item">
                                <div class="flex apart">
                                    <span class="tiny user-detail-tag">MTU ID</span>
                                </div>
                                <div class="flex apart">
                                    <input type="text" class="input small" onchange="updateUserList()" placeholder="fnlastname" name="mtu_id" id="user-search-mtu_id" />
                                </div>
                            </div>
                            <div class="user-detail-item">
                                <div class="flex apart">
                                    <span class="tiny user-detail-tag">Full Name</span>
                                </div>
                                <div class="flex apart">
                                    <input type="text" class="input small" onchange="updateUserList()" placeholder="John Doe" name="full_name" id="user-search-full_name" />
                                </div>
                            </div>
                            <div class="user-detail-item">
                                <div class="flex apart">
                                    <span class="tiny user-detail-tag">Last Seen</span>
                                </div>
                                <div class="flex apart">
                                    <select onchange="updateUserList()" class="input small" name="age" id="user-search-last_seen">
                                        <option value="any">Any</option>
                                        <option value="-24">Past 24 Hours</option>
                                        <option value="-168">Past Week</option>
                                        <option value="-720">Past Month</option>
                                        <option value="-8760">Past Year</option>
                                        <option value="8761">Older than Past Year</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                    
                    <div class="spacing flex center">
                        <div class="spacing flex center">
                            <span class="tag-text small gray-bg" id="selected-users-indicator">No Users Selected</span>
                        </div>
                        <select id="selected-users-role-select" onchange="editSelectedUsersRole(this)" class="input user-detail-value" name="role">
                           
                        </select>
                    </div>
                    
                    
                    
                </div>
                <div id="user-list" class="user-list">

                </div>
            </div>
            
            
        </div>
        
    </div>
    <%- include('./partials/footer.ejs'); %>
  </body>
</html>